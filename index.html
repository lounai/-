<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>員工管理系統 - 儀表板</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icons/favicon.ico">
</head>
<body>
    <div class="dashboard-container">
        <!-- 頂部導航 -->
        <header class="dashboard-header">
            <h1>員工管理系統</h1>
            <div class="user-menu">
                <span id="userName">載入中...</span>
                <button id="logoutBtn">登出</button>
            </div>
        </header>

        <!-- 主要內容 -->
        <main class="dashboard-main">
            <!-- 左側邊欄 -->
            <aside class="dashboard-sidebar">
                <nav class="main-nav">
                    <h3>儀表板</h3>
                    <ul>
                        <li><a href="#dashboard" class="active">📊 儀表板</a></li>
                        <li><a href="#profile">👤 個人資料</a></li>
                        <li><a href="#attendance">📅 出勤記錄</a></li>
                        <li><a href="#settings">⚙️ 設定</a></li>
                    </ul>
                </nav>

                <div class="employee-card" id="employeeInfo">
                    <h3>載入中...</h3>
                    <p>員工編號：...</p>
                    <!-- 動態載入 -->
                </div>
            </aside>

            <!-- 中間主要內容 -->
            <section class="dashboard-content">
                <!-- 歡迎區塊 -->
                <div class="welcome-card">
                    <div class="welcome-message">
                        <h2>歡迎回來！</h2>
                        <p id="welcomeText">載入中...</p>
                    </div>
                    <div class="date-display" id="currentDate">
                        <!-- 動態載入日期 -->
                    </div>
                </div>

                <!-- 快速操作區 -->
                <div class="quick-actions">
                    <h3>快速操作</h3>
                    <div class="action-buttons">
                        <button class="action-btn clock-in" id="clockInBtn">
                            🕐 上班打卡
                        </button>
                        <button class="action-btn clock-out" id="clockOutBtn">
                            🕐 下班打卡
                        </button>
                        <button class="action-btn leave" id="leaveBtn">
                            📝 請假申請
                        </button>
                        <button class="action-btn report" id="reportBtn">
                            🚨 問題回報
                        </button>
                    </div>
                </div>

                <!-- 儀表板區塊 -->
                <div class="dashboard-grid">
                    <!-- 在職員工 -->
                    <div class="card">
                        <h3>👥 在職員工</h3>
                        <div class="employee-count" id="employeeCount">
                            <span>載入中...</span>
                        </div>
                        <button class="card-action" id="viewEmployeesBtn">
                            查看全部 →
                        </button>
                    </div>

                    <!-- 今日出勤 -->
                    <div class="card">
                        <h3>📊 今日出勤</h3>
                        <div class="attendance-today" id="attendanceToday">
                            <span>載入中...</span>
                        </div>
                        <button class="card-action" id="viewAttendanceBtn">
                            查看記錄 →
                        </button>
                    </div>

                    <!-- 進行中專案 -->
                    <div class="card">
                        <h3>🚀 進行中專案</h3>
                        <div class="active-projects" id="activeProjects">
                            <span>載入中...</span>
                        </div>
                        <button class="card-action" id="viewProjectsBtn">
                            查看專案 →
                        </button>
                    </div>

                    <!-- 待辦事項 -->
                    <div class="card todo-card">
                        <h3>✅ 待辦事項</h3>
                        <ul id="todoList">
                            <li>載入中...</li>
                        </ul>
                        <button class="card-action" id="addTodoBtn">
                            新增事項
                        </button>
                    </div>
                </div>

                <!-- 最近活動 -->
                <div class="recent-activity">
                    <h3>📝 最近活動</h3>
                    <ul id="activityList">
                        <li>您已登入系統 - 剛剛</li>
                        <!-- 動態載入 -->
                    </ul>
                </div>
            </section>
        </main>

        <!-- 底部 -->
        <footer class="dashboard-footer">
            <p>© 2026 員工管理系統 | v1.0.0</p>
        </footer>
    </div>

    <script src="app.js"></script>
    <script src="dashboard.js"></script>
    <script>
        // 註冊 Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(reg => console.log('Service Worker 已註冊:', reg.scope))
                .catch(err => console.log('Service Worker 註冊失敗:', err));
        }
    </script>
</body>
</html>
